<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const fetchDataPromise = new Promise((resolve, reject) => {
        console.log("Executor function started.Fetching the data");
        const success = Math.random() > 0.3;
        setTimeout(() => {
          if (success) {
            const data = { id: 123, message: "Data fetch success" };
            console.log("Operation successful,resolving the promise");
            resolve(data);
          } else {
            const error = new Error("Network error:Could not fetch data");
            console.log("Operation failed,rejecting the promise");
            reject(error);
          }
        }, 2000);
      });
      console.log("Promise created, currently pending..");

      //Handling the resolved value
      fetchDataPromise
        .then((data) => {
          console.log("Received data", data);
        })
        .catch((error) => {
          console.log("Caught error", error.message);
        })
        .finally(() => {
          console.log('Finally handler executed');
        })
    </script>
  </body>
</html>
